<?xml version="1.0" encoding="UTF-8"?>
<project name="lesscss" default="build_bgwp" basedir=".">
	<property name="workspace" value="C:/Users/Matt/Documents/Aptana Studio 3 Workspace"/>
	<property name="project" value="bgwp.net"/>
	<property name="dir.less" value="${workspace}/${project}/assets/less"/>
	<property name="dir.css" value="${workspace}/${project}/assets/css"/>
	<property name="lessc" value="C:/Users/Matt/AppData/Roaming/npm/lessc.cmd"/>
	

	<target name="build_bgwp" description="Compile LESS files">
		<antcall target="lessfile">
			<param name="files" value="*"/>
		</antcall>
	</target>
	
	<target name="lessfile">
		<apply executable="${lessc}" parallel="false">
			<fileset dir="${dir.less}" includes="*.less"/>
			<!--<redirector>
				<outputmapper id="out" type="glob" from="*.less" to="${dir.css}/*.css"/>
			</redirector>-->
			<srcfile />
			<mapper id="out" type="glob" from="*.less" to="${dir.css}/*.css" />	
			<targetfile />
		</apply>
		<copy todir="${dir.css}" verbose="true">
			<fileset dir="${dir.less}" includes="*.less"/>
			<mapper type="glob" from="*.css" to="*.css"/>
			
		</copy>
		
	</target>	
</project>